<!-- team-invite-dialog.component.html -->
<h2 mat-dialog-title>Inviter votre équipe</h2>
<mat-dialog-content>
  <div *ngIf="isLoading" class="text-center py-4">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <div *ngIf="!isLoading">
    <p>Sélectionnez les membres de votre équipe à inviter à cet événement :</p>
    
    <mat-selection-list [(ngModel)]="selectedMembers">
      <mat-list-option *ngFor="let member of teamMembers" [value]="member.id">
        <div class="d-flex align-items-center">
          <img [src]="member.profileImage || 'assets/default-profile.png'" 
               class="rounded-circle me-3" width="40" height="40">
          <div>
            <h5 class="mb-0">{{ member.firstName }} {{ member.lastName }}</h5>
            <small class="text-muted">{{ member.email }}</small>
          </div>
        </div>
      </mat-list-option>
    </mat-selection-list>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Annuler</button>
  <button mat-raised-button color="primary" 
          (click)="submitInvitations()"
          [disabled]="selectedMembers.length === 0 || isLoading">
    <span *ngIf="!isLoading">Inviter ({{ selectedMembers.length }})</span>
    <span *ngIf="isLoading">Envoi en cours...</span>
  </button>
</mat-dialog-actions>